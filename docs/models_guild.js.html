<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Pronto: models/guild.js</title>
    
      <link type="text/css" rel="stylesheet" href="styles/vendor/prism-okaidia.css">
    
    <link type="text/css" rel="stylesheet" href="styles/styles.css">
    
    
    <style>
      :root {
      
      }
    </style>
    
</head>
<body>

<header class="layout-header">
  
  <h1>
    <a href="./index.html">
      Pronto
    </a>
  </h1>
  <nav class="layout-nav">
    <ul><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands.html">commands</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_approve.html">commands/approve</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_approve.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_approve.html#~processMentions">processMentions</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_archive.html">commands/archive</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_archive.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_assign.html">commands/assign</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~assignCancelled">assignCancelled</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~assignLesson">assignLesson</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~getUserInput">getUserInput</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~msgPrompt">msgPrompt</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~processMentions">processMentions</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~saveLesson">saveLesson</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_assign.html#~whileLoop">whileLoop</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_attendance.html">commands/attendance</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_attendance.html#~createRegister">createRegister</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_attendance.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_attendance.html#~sendAttendance">sendAttendance</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_connected.html">commands/connected</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_connected.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_evaluate.html">commands/evaluate</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_evaluate.html#~convertToString">convertToString</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_evaluate.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_evaluate.html#~findBreakIndex">findBreakIndex</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_evaluate.html#~msgSplit">msgSplit</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_evaluate.html#~removeSensitive">removeSensitive</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_help.html">commands/help</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_help.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_help.html#~sendCommandList">sendCommandList</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_help.html#~sendHelpEmbed">sendHelpEmbed</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_leave.html">commands/leave</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_leave.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_leavefor.html">commands/leavefor</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_leavefor.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_lesson.html">commands/lesson</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~execute">execute</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~getNumberInput">getNumberInput</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~lessonCancelled">lessonCancelled</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~lessonSubmit">lessonSubmit</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~processMentions">processMentions</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_lesson.html#~serialiseResources">serialiseResources</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_ping.html">commands/ping</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_ping.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_purge.html">commands/purge</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_purge.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_restart.html">commands/restart</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_restart.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_seen.html">commands/seen</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_seen.html#~execute">execute</a></span></li><li class="nav-heading"><span class="nav-item-type type-module" title="module">M</span><span class="nav-item-name is-module"><a href="module-commands_uptime.html">commands/uptime</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="module-commands_uptime.html#~execute">execute</a></span></li></ul><ul><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="commands.html">commands</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="config.html">config</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="handlers.html">handlers</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="handlers.html#.commandLoader">commandLoader</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="handlers.html#.createGuild">createGuild</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="handlers.html#.database">database</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="handlers.html#.permissionsCheck">permissionsCheck</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="handlers.html#.upsertCommands">upsertCommands</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="models.html">models</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="modules.html">modules</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace" title="namespace">N</span><span class="nav-item-name is-namespace"><a href="pronto.html">pronto</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="pronto.html#.bot">bot</a></span></li><li class="nav-item"><span class="nav-item-type type-member" title="member">M</span><span class="nav-item-name is-member"><a href="pronto.html#.version">version</a></span></li><li class="nav-item"><span class="nav-item-type type-function" title="function">F</span><span class="nav-item-name is-function"><a href="pronto.html#~eventHandler">eventHandler</a></span></li></ul>
  </nav>
</header>


<main class="layout-main  layout-content--source">
  <div class="container">
    <p class="page-kind">source</p>
    <h1 class="page-title">models/guild.js</h1>
    



    

<section>
    <article>
        <pre id="source" class="source-page line-numbers"><code class="language-js">'use strict';

// eslint-disable-next-line no-unused-vars
const Discord = require('discord.js');
// eslint-disable-next-line no-unused-vars
const Typings = require('../typings');
const mongoose = require('mongoose');

const { settings, emojis, colours } = require('../config');

/**
 * @typedef {Typings.GuildConfigurationConfiguration} models.GuildConfiguration An \&lt;Object> representing the values of a \&lt;mongoose.Document> to record the specific configuration for each \&lt;Guild>
 * @property {mongoose.Schema.Types.ObjectId} _id A unique document identifier
 * @property {Discord.Snowflake} guildID The \&lt;Guild.id> that this configuration belongs to
 * @property {string} guildName The \&lt;Guild.name> that this configuration belongs to
 * @property {Object} settings The guild's settings object
 * @property {string} settings.prefix The guild's command prefix
 * @property {string} settings.longDate The guild's default dateformat mask for its date-time groups
 * @property {string} settings.shortDate The guild's dateformat mask for its shortened date strings
 * @property {string} settings.prontoLogo The image URL to display as the guild's logo for Pronto
 * @property {string} settings.lessonCron The guild's cron expression to schedule lesson reminders
 * @property {boolean} settings.lessonReminders A \&lt;boolean> to control whether to schedule lesson reminders
 * @property {Object} ids The guild's object of identifiers/snowflakes
 * @property {Discord.Snowflake} ids.guildID The \&lt;Guild.id> of the guild
 * @property {Discord.Snowflake} ids.debugID The \&lt;TextChannel.id> of the guild's debugging channel
 * @property {Discord.Snowflake} ids.logID The \&lt;TextChannel.id> of the guild's log channel
 * @property {Discord.Snowflake} ids.attendanceID The \&lt;TextChannel.id> of the guild's attendance channel
 * @property {Discord.Snowflake} ids.recruitingID The \&lt;TextChannel.id> of the guild's recruiting channel
 * @property {Discord.Snowflake} ids.welcomeID The \&lt;TextChannel.id> of the guild's new members channel
 * @property {Discord.Snowflake} ids.archivedID The \&lt;TextChannel.id> of the guild's debugging channel
 * @property {Discord.Snowflake} ids.lessonsID The \&lt;CategoryChannel.id> of the guild's lesson plans category channel
 * @property {Discord.Snowflake} ids.lessonReferenceID The \&lt;TextChannel.id> of the guild's lesson reference channel
 * @property {Discord.Snowflake} ids.lessonPlansID The \&lt;TextChannel.id> of the guild's lesson plans archive channel
 * @property {Discord.Snowflake} ids.everyoneID The \&lt;Role.id> of the guild's \@everyone role
 * @property {Discord.Snowflake | ''} ids.visitorID The \&lt;Role.id> of the guild's visitor role if it is registered
 * @property {Discord.Snowflake | ''} ids.administratorID The \&lt;Role.id> of the guild's administrator role if it is registered
 * @property {Discord.Snowflake[]} ids.trainingIDs A \&lt;Role.id[]> of the guild's training roles
 * @property {Discord.Snowflake[]} ids.formations A \&lt;Role.id[]> of the guild's formation roles
 * @property {models.ChannelPair[]} ids.channelPairs An {@link models.ChannelPair|&lt;Object[]>} of the guild's pairings of \&lt;VoiceChannel> and \&lt;TextChannel>
 * @property {commands.BaseCommands} commands The guild's [\&lt;BaseCommands>]{@link commands.BaseCommands} object containing each individual [\&lt;BaseCommand>]{@link commands.BaseCommand} under the property [{@link commands.CommandName|CommandName}]
 * @property {Object} emojis The guild's emojis object
 * @property {models.Emoji} emojis.success The guild's success [\&lt;Emoji>]{@link models.Emoji}
 * @property {models.Emoji} emojis.error The guild's error [\&lt;Emoji>]{@link models.Emoji}
 * @property {models.Colours} colours The guild's colour [\&lt;Object>]{@link models.Colours}
 */

/**
 * @typedef {Object} models.ChannelPair An \&lt;Object> of a pair of \&lt;VoiceChannel.id> and \&lt;TextChannel.id>
 * @property {Discord.Snowflake} voice The \&lt;VoiceChannel.id> of this paired voice channel
 * @property {Discord.Snowflake} text The \&lt;TextChannel.id> of this paired text channel
 */

/**
 * @typedef {Object} models.Emoji An \&lt;Object> to create and/or find an emoji in a guild
 * @property {string} name The name of the guild's emoji
 * @property {string} URL The URL of the guild's emoji
 */

/**
 * @typedef {Object} models.Colours An \&lt;Object> of the customisable colours for each guild
 * @property {number} default The colour to use as the guild's non-specific colour
 * @property {number} primary The colour to use as the guild's primary colour
 * @property {number} leave The colour to use on the guild's leave tickets
 * @property {number} success The colour to use as the guild's success colour
 * @property {number} warn The colour to use as the guild's warning colour
 * @property {number} error The colour to use as the guild's error colour
 */

// Create a new &lt;Schema> of &lt;Guild> type
const guildSchema = new mongoose.Schema({
	_id: mongoose.Schema.Types.ObjectId,
	guildID: String,
	guildName: String,
	settings: {
		prefix: { type: String, default: settings.prefix },
		longDate: { type: String, default: settings.longDate },
		shortDate: { type: String, default: settings.shortDate },
		prontoLogo: { type: String, default: settings.prontoLogo },
		lessonCron: { type: String, default: settings.lessonCron },
		lessonReminders: { type: Boolean, default: false },
	},
	ids: {
		guildID: String,
		debugID: String,
		logID: String,
		attendanceID: String,
		recruitingID: String,
		welcomeID: String,
		archivedID: String,
		lessonsID: String,
		lessonReferenceID: String,
		lessonPlansID: String,
		everyoneID: String,
		visitorID: String,
		administratorID: { type: String, default: '' },
		trainingIDs: Array,
		formations: Array,
		channelPairs: Array,

	},
	commands: Object,
	emojis: {
		type: Object,
		default: {
			success: {
				name: emojis.success.name,
				URL: emojis.success.URL,
			},
			error: {
				name: emojis.error.name,
				URL: emojis.error.URL,
			},
		},
	},
	colours: {
		type: Object,
		default: {
			default: colours.default,
			primary: colours.primary,
			leave: colours.leave,
			success: colours.success,
			warn: colours.warn,
			error: colours.error,
		},
	},
});

// Export the &lt;Schema> as a &lt;Model>
module.exports = mongoose.model('Guild', guildSchema, 'guilds');</code></pre>
    </article>
</section>




  </div>
</main>

<footer class="layout-footer">
  <div class="container">
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Tue Dec 07 2021 00:26:34 GMT+1300 (New Zealand Daylight Time)
  </div>
</footer>



<script src="scripts/prism.dev.js"></script>
</body>
</html>
